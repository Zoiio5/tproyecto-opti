nP = 4;
nT = 23;
nC1 = 26;
nC2 = 54;
nA = 183;
nD = 3;

arc_from = [2, 4, 3, 2, 3, 3, 2, 4, 3, 4, 3, 2, 3, 1, 2, 1, 3, 3, 4, 1, 2, 3, 2, 3, 1, 2, 4, 4, 1, 2, 4, 1, 3, 2, 4, 3, 3, 1, 5, 5, 6, 6, 6, 7, 7, 7, 8, 8, 8, 9, 10, 10, 11, 12, 12, 13, 13, 13, 14, 14, 15, 15, 15, 16, 16, 16, 17, 17, 18, 19, 20, 20, 20, 21, 21, 21, 22, 23, 23, 23, 24, 24, 25, 25, 25, 26, 27, 27, 27, 35, 29, 31, 41, 38, 50, 43, 31, 49, 52, 32, 28, 45, 33, 41, 48, 43, 43, 48, 34, 52, 37, 38, 37, 48, 29, 52, 30, 48, 46, 35, 45, 51, 51, 29, 33, 41, 33, 29, 40, 53, 43, 33, 51, 37, 29, 28, 37, 46, 47, 31, 38, 37, 42, 28, 28, 29, 29, 30, 31, 32, 32, 33, 34, 34, 35, 36, 36, 37, 37, 38, 39, 40, 40, 41, 41, 42, 42, 43, 43, 44, 45, 45, 46, 47, 48, 48, 49, 49, 50, 50, 51, 52, 53];
arc_to = [5, 6, 6, 7, 7, 8, 9, 9, 10, 10, 11, 11, 12, 13, 13, 14, 14, 15, 15, 16, 17, 17, 18, 18, 19, 20, 21, 22, 22, 23, 23, 24, 24, 25, 26, 26, 27, 27, 45, 38, 39, 49, 52, 49, 48, 53, 36, 47, 43, 35, 45, 37, 37, 50, 34, 50, 43, 38, 39, 45, 36, 37, 31, 49, 45, 40, 39, 52, 37, 37, 30, 39, 42, 36, 51, 43, 34, 36, 45, 50, 32, 31, 51, 46, 35, 29, 44, 35, 48, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 62, 86, 71, 66, 75, 100, 95, 70, 54, 104, 72, 65, 106, 81, 59, 79, 65, 84, 69, 54, 78, 69, 102, 71, 73, 91, 70, 98, 69, 96, 83, 64, 79, 98, 61, 77, 93, 68, 84, 83];

supply = [1110.29, 1110.29, 1110.29, 1110.29, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00];
demand = [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 49.10, 38.08, 54.18, 47.74, 49.55, 43.17, 42.10, 52.65, 45.12, 46.01, 50.42, 40.47, 45.30, 46.22, 43.89, 40.20, 53.66, 43.50, 56.04, 43.99, 44.99, 51.77, 47.17, 39.50, 42.04, 39.81, 35.95, 34.44, 49.46, 48.10, 40.61, 49.75, 48.74, 47.25, 49.27, 45.70, 36.78, 36.26, 50.31, 41.43, 48.35, 41.94, 35.10, 40.19, 41.27, 37.63, 43.38, 34.40, 38.31, 43.62, 47.74, 44.88, 38.39, 33.72, 35.39, 35.84, 38.03, 39.73, 40.36, 34.35, 34.45, 43.02, 39.68, 38.43, 40.08, 41.15, 42.82, 47.45, 44.05, 43.85, 35.75, 35.21, 39.85, 50.16, 42.96, 39.73, 36.01, 43.70, 40.33, 34.26];

max_capacity = [795, 1414, 3181];

install_cost = array2d(1..nA, 1..nD, [
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32
]);

trans_cost = [4.08, 7.31, 6.98, 5.85, 8.77, 4.39, 3.71, 4.96, 5.93, 6.37, 5.64, 6.53, 4.12, 8.17, 5.88, 7.68, 6.51, 6.69, 6.85, 6.67, 6.96, 7.99, 6.29, 7.06, 5.87, 8.16, 4.99, 8.70, 5.94, 3.85, 6.19, 4.98, 7.26, 5.02, 5.33, 3.17, 5.32, 2.36, 3.62, 7.14, 7.18, 6.64, 4.55, 5.93, 5.99, 4.26, 8.26, 7.32, 5.67, 6.04, 6.31, 2.94, 5.63, 4.98, 4.50, 5.58, 8.70, 6.96, 5.14, 6.86, 8.10, 7.39, 6.09, 5.03, 7.05, 6.59, 7.34, 6.95, 7.57, 5.20, 7.98, 6.30, 9.11, 4.97, 8.60, 6.30, 5.02, 5.27, 5.52, 6.64, 6.78, 5.14, 5.96, 9.21, 8.59, 6.65, 6.06, 6.18, 6.92, 4.47, 5.61, 3.50, 6.60, 6.97, 5.28, 8.36, 4.16, 3.80, 6.34, 7.57, 8.53, 5.31, 7.62, 5.94, 5.74, 7.33, 6.98, 3.64, 8.21, 8.07, 5.06, 6.59, 6.74, 6.39, 5.17, 4.99, 5.96, 7.76, 6.82, 5.44, 7.16, 1.73, 7.72, 3.39, 5.46, 4.32, 4.06, 7.74, 5.30, 6.52, 5.93, 6.72, 6.12, 4.08, 7.49, 5.26, 3.67, 5.36, 8.25, 7.28, 5.48, 5.48, 5.52, 9.12, 6.57, 6.65, 7.55, 6.36, 5.61, 5.71, 5.89, 5.94, 7.09, 6.08, 7.10, 5.88, 6.12, 3.00, 7.37, 6.52, 7.50, 1.66, 9.13, 5.79, 7.66, 4.44, 6.92, 4.42, 5.06, 8.87, 5.71, 6.33, 7.31, 6.74, 6.23, 6.55, 9.61, 5.91, 6.30, 7.58, 7.66, 7.78, 6.96];

% Metadata: {'tamaño': 'grandes', 'numero': 3, 'grupo': 5, 'demanda_total': 3416.28, 'suministro_total': 4441.16, 'factor_holgura': 1.3, 'num_arcos': 183, 'conectividad': {'plantas_tanques': 38, 'tanques_transbordo': 51, 'transbordo_finales': 94}}
% Total supply: 4441.16
% Total demand: 3416.28
% Balance factor: 1.30
% Finished in 19m 38s.
=== RESULTADOS OPTIMIZACIÓN RED DE TUBERÍAS - GRUPO 5 (CP-SAT) ===
Grupo: 5
Fecha/Hora: 2025-06-22
Estado: Optimizado

--- COSTOS ---
Costo Instalación: $540.00
Costo Transporte:  $363960.31
Penalización:      $3003000.00
COSTO TOTAL:       $3367500.31

--- ESTADÍSTICAS DE RED ---
Nodos: P=4 T=23 C1=26 C2=54 (Total: 107)
Arcos totales: 183
Arcos activos: 15
Utilización: 8%

--- FLUJOS ---
Suministro total: 4441.16 l/min
Demanda total: 3416.279999999999 l/min
Flujo enviado: 413.28 l/min
Demanda satisfecha: 413.2799999999993 l/min
Demanda no satisfecha: 3003.0 l/min
Eficiencia: 12.09736906810915%

--- DIÁMETROS UTILIZADOS ---
D75mm: 15 arcos
D100mm: 0 arcos
D150mm: 0 arcos