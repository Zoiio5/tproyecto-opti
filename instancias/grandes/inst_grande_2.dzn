nP = 4;
nT = 17;
nC1 = 20;
nC2 = 38;
nA = 130;
nD = 3;

arc_from = [4, 3, 3, 1, 3, 1, 3, 3, 1, 4, 2, 4, 2, 4, 3, 4, 1, 3, 1, 2, 3, 1, 4, 3, 2, 4, 1, 3, 2, 3, 5, 5, 5, 6, 7, 7, 8, 9, 9, 9, 10, 11, 11, 11, 12, 12, 12, 13, 13, 14, 15, 16, 16, 17, 17, 17, 18, 19, 19, 20, 20, 20, 21, 21, 21, 37, 28, 25, 26, 24, 36, 27, 36, 24, 32, 33, 24, 39, 39, 31, 31, 27, 27, 33, 38, 29, 25, 28, 26, 29, 37, 22, 33, 39, 40, 33, 36, 39, 26, 41, 24, 24, 31, 22, 22, 23, 23, 25, 25, 26, 27, 28, 29, 29, 30, 31, 32, 33, 33, 34, 34, 35, 36, 36, 37, 38, 39, 40, 40, 41];
arc_to = [5, 5, 6, 6, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 13, 13, 14, 14, 15, 15, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 35, 30, 23, 34, 38, 27, 26, 36, 23, 26, 29, 33, 41, 34, 23, 26, 36, 33, 36, 40, 38, 34, 32, 30, 29, 25, 27, 38, 34, 25, 30, 40, 36, 28, 31, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 72, 75, 68, 78, 46, 70, 64, 77, 50, 74, 45, 75, 61, 52, 56, 64, 47, 58, 77, 50, 61, 74, 79, 52, 78, 44, 47];

supply = [783.55, 783.55, 783.55, 783.55, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00];
demand = [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 28.05, 38.37, 34.05, 31.62, 36.23, 29.20, 27.69, 29.21, 34.44, 34.23, 26.92, 37.02, 32.62, 33.10, 34.35, 33.61, 35.48, 29.90, 26.12, 30.71, 40.97, 49.98, 47.27, 44.22, 55.32, 47.65, 52.19, 46.97, 37.84, 53.82, 38.28, 44.71, 44.45, 51.46, 44.15, 38.73, 41.98, 49.77, 39.40, 48.36, 51.63, 39.96, 44.06, 43.80, 49.50, 53.01, 50.29, 55.83, 46.42, 40.88, 39.99, 50.87, 55.14, 38.15, 41.24, 52.28, 54.05, 43.37];

max_capacity = [795, 1414, 3181];

install_cost = array2d(1..nA, 1..nD, [
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78
]);

trans_cost = [5.72, 5.34, 8.17, 6.29, 7.55, 3.77, 6.40, 7.33, 6.12, 7.60, 5.22, 8.11, 9.45, 5.46, 5.33, 8.18, 8.37, 5.22, 5.37, 5.58, 3.98, 4.62, 4.49, 4.85, 5.95, 6.35, 8.33, 4.50, 7.48, 5.68, 5.93, 7.01, 4.32, 6.57, 6.25, 6.74, 6.43, 9.68, 5.04, 5.20, 5.07, 5.17, 5.04, 7.78, 8.13, 5.14, 4.75, 6.71, 5.17, 6.95, 6.30, 3.73, 8.32, 8.69, 5.08, 5.42, 6.43, 6.50, 6.99, 9.02, 5.73, 4.80, 3.93, 4.90, 5.95, 8.69, 5.22, 6.34, 5.98, 7.78, 9.79, 5.20, 5.27, 7.57, 7.02, 8.77, 6.88, 5.46, 6.89, 7.66, 7.23, 6.76, 7.60, 7.75, 8.07, 6.97, 5.75, 6.22, 7.81, 4.77, 6.55, 5.41, 6.04, 7.92, 6.29, 6.07, 3.96, 7.12, 6.97, 9.24, 5.54, 6.33, 6.37, 8.37, 5.86, 6.42, 6.91, 6.28, 5.33, 6.29, 7.61, 4.46, 6.20, 4.95, 7.79, 3.72, 5.16, 6.57, 8.35, 5.90, 5.17, 8.82, 3.83, 2.70, 6.66, 5.25, 4.47, 7.06, 6.37, 5.15];

% Metadata: {'tamaño': 'grandes', 'numero': 2, 'grupo': 5, 'demanda_total': 2410.91, 'suministro_total': 3134.2, 'factor_holgura': 1.3, 'num_arcos': 130, 'conectividad': {'plantas_tanques': 30, 'tanques_transbordo': 35, 'transbordo_finales': 65}}
% Total supply: 3134.20
% Total demand: 2410.91
% Balance factor: 1.30
%Finished in 5m 55s.
%=== RESULTADOS OPTIMIZACIÓN RED DE TUBERÍAS - GRUPO 5 (CP-SAT) ===
Grupo: 5
Fecha/Hora: 2025-06-22
Estado: Optimizado

--- COSTOS ---
Costo Instalación: $400.00
Costo Transporte:  $178806.78
Penalización:      $2218620.00
COSTO TOTAL:       $2397826.78

--- ESTADÍSTICAS DE RED ---
Nodos: P=4 T=17 C1=20 C2=38 (Total: 79)
Arcos totales: 130
Arcos activos: 11
Utilización: 8%

--- FLUJOS ---
Suministro total: 3134.2 l/min
Demanda total: 2410.91 l/min
Flujo enviado: 192.29 l/min
Demanda satisfecha: 192.2900000000004 l/min
Demanda no satisfecha: 2218.62 l/min
Eficiencia: 7.975826555118203%

--- DIÁMETROS UTILIZADOS ---
D75mm: 11 arcos
D100mm: 0 arcos
D150mm: 0 arcos