nP = 6;
nT = 25;
nC1 = 32;
nC2 = 49;
nA = 186;
nD = 3;

arc_from = [4, 6, 5, 4, 3, 2, 3, 1, 3, 5, 3, 2, 5, 1, 2, 2, 6, 3, 6, 1, 6, 4, 2, 5, 2, 1, 4, 4, 4, 3, 5, 4, 3, 1, 1, 3, 5, 6, 3, 4, 7, 8, 8, 9, 9, 10, 11, 12, 12, 12, 13, 13, 14, 15, 15, 16, 16, 16, 17, 17, 17, 18, 18, 18, 19, 20, 20, 21, 21, 21, 22, 22, 23, 24, 24, 25, 25, 25, 26, 26, 26, 27, 27, 28, 29, 30, 30, 30, 31, 60, 42, 55, 55, 50, 56, 58, 53, 35, 53, 36, 53, 38, 56, 50, 48, 41, 53, 37, 41, 54, 51, 57, 40, 37, 51, 56, 53, 40, 37, 59, 55, 33, 55, 51, 43, 45, 53, 63, 44, 46, 40, 41, 36, 50, 38, 34, 53, 40, 32, 32, 33, 35, 35, 36, 37, 38, 38, 39, 39, 40, 41, 41, 42, 42, 43, 43, 44, 44, 45, 46, 47, 47, 48, 49, 50, 51, 52, 52, 53, 53, 54, 54, 55, 56, 56, 57, 58, 59, 59, 60, 60, 61, 62, 62, 63, 63];
arc_to = [7, 7, 8, 8, 9, 9, 10, 11, 11, 12, 12, 13, 14, 14, 15, 16, 16, 17, 17, 18, 19, 19, 20, 21, 21, 22, 22, 23, 24, 25, 26, 26, 27, 27, 28, 28, 29, 30, 30, 31, 47, 57, 37, 51, 53, 53, 36, 39, 44, 54, 41, 47, 41, 44, 43, 41, 36, 43, 63, 61, 60, 52, 41, 60, 62, 51, 49, 35, 54, 36, 61, 60, 35, 50, 36, 37, 56, 61, 34, 60, 44, 62, 41, 60, 53, 37, 43, 34, 60, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 73, 74, 108, 66, 90, 110, 92, 112, 111, 78, 98, 83, 76, 87, 93, 82, 96, 97, 74, 76, 80, 105, 87, 99, 109, 82, 112, 81, 96, 73, 69, 78, 86, 65, 89, 79, 88, 87, 65, 70, 109, 73, 72, 82, 108, 72, 92, 103];

supply = [849.33, 849.33, 849.33, 849.33, 849.33, 849.33, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00];
demand = [0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 44.39, 47.13, 37.97, 48.87, 51.60, 47.95, 50.09, 49.22, 40.07, 44.35, 40.31, 42.31, 44.38, 43.70, 37.90, 43.90, 48.21, 42.95, 38.94, 52.87, 37.39, 51.22, 37.86, 37.92, 49.54, 50.86, 46.24, 46.79, 46.34, 42.14, 38.39, 42.57, 55.68, 58.07, 55.09, 60.10, 52.65, 47.61, 52.19, 44.80, 53.79, 45.03, 42.68, 57.61, 47.93, 55.93, 52.11, 56.83, 57.60, 60.22, 57.06, 52.91, 53.50, 41.02, 59.30, 57.28, 45.91, 44.14, 54.72, 46.75, 47.37, 40.61, 58.10, 51.96, 48.60, 43.36, 53.31, 41.11, 55.60, 44.85, 48.99, 47.39, 47.98, 55.10, 56.22, 51.98, 42.21, 41.56, 43.68, 53.00, 54.14];

max_capacity = [795, 1414, 3181];

install_cost = array2d(1..nA, 1..nD, [
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78,
  20, 24, 32,
  50, 62, 78
]);

trans_cost = [8.39, 5.23, 4.52, 5.81, 6.08, 7.64, 3.46, 8.29, 5.76, 5.36, 4.48, 3.52, 7.23, 6.11, 4.07, 4.06, 5.50, 8.50, 5.61, 3.75, 5.63, 5.59, 1.95, 5.92, 5.65, 7.04, 8.77, 7.69, 5.60, 4.34, 9.86, 6.09, 6.02, 5.96, 6.30, 5.78, 5.14, 5.18, 5.95, 5.18, 4.93, 6.16, 5.62, 8.26, 2.02, 7.64, 7.87, 2.89, 5.49, 5.44, 3.89, 4.83, 4.33, 8.63, 7.40, 7.91, 7.08, 4.31, 5.21, 6.73, 4.17, 7.07, 5.64, 5.44, 7.07, 6.67, 5.46, 7.74, 4.38, 6.92, 6.89, 5.54, 6.49, 4.12, 7.39, 5.72, 5.22, 7.57, 4.94, 3.89, 3.67, 6.91, 4.08, 8.63, 2.88, 8.54, 6.32, 5.85, 5.18, 6.60, 5.94, 7.65, 6.17, 6.23, 5.45, 5.91, 6.46, 3.43, 3.98, 7.11, 6.26, 5.72, 6.03, 6.52, 5.19, 4.83, 6.29, 4.53, 6.61, 3.45, 7.54, 6.71, 6.38, 7.47, 8.50, 7.52, 3.24, 4.08, 5.06, 6.04, 6.78, 4.91, 6.28, 4.87, 5.08, 3.89, 4.62, 3.97, 4.54, 7.58, 4.58, 9.95, 6.74, 6.28, 4.71, 7.05, 5.14, 6.18, 9.84, 5.86, 7.72, 4.95, 5.95, 8.66, 5.06, 8.72, 7.06, 5.16, 6.95, 7.46, 6.93, 3.64, 4.91, 5.63, 5.89, 6.93, 6.27, 4.00, 6.57, 6.92, 6.84, 7.62, 7.25, 6.69, 5.89, 3.51, 6.64, 6.31, 6.41, 4.08, 4.38, 7.58, 5.94, 7.02, 6.04, 6.04, 7.41, 5.23, 6.14, 5.31, 5.35, 5.54, 6.33, 5.28, 7.88, 4.66];

% Metadata: {'tamaño': 'grandes', 'numero': 1, 'grupo': 5, 'demanda_total': 3920.0, 'suministro_total': 5095.98, 'factor_holgura': 1.3, 'num_arcos': 186, 'conectividad': {'plantas_tanques': 40, 'tanques_transbordo': 49, 'transbordo_finales': 97}}
% Total supply: 5095.98
% Total demand: 3920.00
% Balance factor: 1.30
%Finished in 1h 51m 26s.
=== RESULTADOS OPTIMIZACIÓN RED DE TUBERÍAS - GRUPO 5 (CP-SAT) ===
Grupo: 5
Fecha/Hora: 2025-06-22
Estado: Optimizado

--- COSTOS ---
Costo Instalación: $780.00
Costo Transporte:  $468355.17
Penalización:      $3376120.00
COSTO TOTAL:       $3845255.17

--- ESTADÍSTICAS DE RED ---
Nodos: P=6 T=25 C1=32 C2=49 (Total: 112)
Arcos totales: 186
Arcos activos: 21
Utilización: 11%

--- FLUJOS ---
Suministro total: 5095.98 l/min
Demanda total: 3919.999999999998 l/min
Flujo enviado: 543.88 l/min
Demanda satisfecha: 543.8799999999978 l/min
Demanda no satisfecha: 3376.12 l/min
Eficiencia: 13.87448979591832%

--- DIÁMETROS UTILIZADOS ---
D75mm: 21 arcos
D100mm: 0 arcos
D150mm: 0 arcos